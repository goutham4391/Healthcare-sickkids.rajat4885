!function(e){document.querySelector("html").classList.remove("no-js"),objectFitImages(),e((function(){stickybits("body > header",{parentClass:"body"}),stickybits("#back-to-top",{useStickyClasses:!0,verticalPosition:"bottom"});function t(t){let n=e(t);void 0!==n.attr("tabindex")?n.focus():n.attr("tabindex",-1).on("blur focusout",(function(){e(this).removeAttr("tabindex")})).focus()}e("#back-to-top").hide(),e(document).scroll((function(){0===(e("html").scrollTop()||e("body").scrollTop())?e("#back-to-top").hide():e("#back-to-top").show()})),e("#maincontent").length&&e("#jump-to-content").attr("href","#maincontent"),e("#jump-to-content").click((function(e){e.preventDefault();const n=this.href.split("#")[1];zenscroll.to(document.getElementById(n)),t("#"+n)}));function n(){let t=e("#article-toolbar"),n=e("#site-header");return(t.length?t.outerHeight(!0):0)+(n.length?n.outerHeight(!0):0)+8}zenscroll.setup(700,n()),e(window).resize((function(){zenscroll.setup(700,n())})),e(window).on("hashchange load",(function(){zenscroll.setup(700,n()),function(){if(window.location.hash){const e=window.location.hash.substring(1),n=document.getElementById(e);null!==n&&setTimeout((function(){zenscroll.to(n),t(window.location.hash)}),100)}}()}))})),e((function(){e("#resize-article-text").click((function(){let t=e("article"),n=e(this);n.focus(),void 0===n.data("baseSize")&&n.data("baseSize",t.css("font-size")),t.css("font-size")===n.data("baseSize")?e("article").css("font-size",1.5*parseFloat(n.data("baseSize"),10)):e("article").css("font-size",n.data("baseSize")),n.toggleClass("active").blur()}))})),e(window).on("load",(function(){let t=e("#site-header").outerHeight(!0);stickybits("#article-toolbar",{parentClass:"#article",stickyBitStickyOffset:t});function n(){let t=e("#site-header").outerHeight();e("#article-toolbar").css("top",t)}window.addEventListener("resize",n),window.addEventListener("hashchange",n)})),e((function(){e(".question-form").each((function(){let t=e(this),n=e(".form-control",this);n.on("focus blur",(function(){t.toggleClass("focus")})),e("button",t).click((function(){n.prop("required")&&""===n.val()&&(e(".invalid-feedback",t).show(),e(".input-wrap",t).addClass("was-validated"),n.attr("aria-invalid",!0))}))}))})),e((function(){function t(){e(".jumbotron-layered").each((function(){let t=e(".jumbotron-body",this),n=e("img",this).height()*(t.data("offset-top")/100);window.matchMedia("(max-width: 47.98em)").matches?t.css("margin-top","0"):t.css("margin-top",n)}))}e(".jumbotron-layered").length&&(e(window).on("load",t()),e(window).resize(t))})),e((function(){function t(){window.matchMedia("(max-width: 61.98em)").matches&&e(".accordion").each((function(){e('.collapse-trigger[aria-expanded="true"]',this).not(".clicked").trigger("click")}))}e(".accordion .collapse-trigger").click((function(){e(this).toggleClass("clicked")})),e(".collapse").on("shown.bs.collapse",(function(t){const n=e("#site-header").outerHeight(!0),o=e(".card-header").height(),i=e(t.target).offset().top,a=document.documentElement,r=document.getElementById("content"),s="scrollTop";(a[s]||r[s]||e("body").scrollTop())>i-2*o-n&&e("html, body").animate({scrollTop:i-2*o-n},300)})),t(),e(window).resize(t)})),void 0===window.SickKids&&(window.SickKids={}),window.SickKids.SetupBreadcrumb=()=>{var e=document.querySelectorAll("H1");let t=document.getElementById("Breadcrumb");if(t&&e&&e.length>0){const n=e[0],o=n.closest(".jumbotron-layered");null!==o?(bcContainerA=document.createElement("div"),bcContainerA.classList.add("container","mb-3"),bcContainerB=document.createElement("div"),bcContainerB.classList.add("row"),bcContainerC=document.createElement("div"),bcContainerC.classList.add("col"),bcContainerC.appendChild(t),bcContainerB.appendChild(bcContainerC),bcContainerA.appendChild(bcContainerB),o.insertAdjacentElement("afterend",bcContainerA)):n.parentNode.insertBefore(t,n),t.classList.add("d-sm-block")}},e((function(){let t=e("#site-navigation > .nav-layout-wrap"),n=t.children(),o=e("#navbar-brand-tablet"),i=e("#search-jc-wrap"),a=e("#nav-primary"),r=e("#nav-secondary");function s(){window.matchMedia("(max-width: 47.98em)").matches?i.detach().insertAfter(r):window.matchMedia("(min-width: 48em) and (max-width: 74.98em)").matches?i.detach().insertAfter(o):window.matchMedia("(min-width: 75em)")&&i.detach().insertAfter(a)}e("#site-header").on("hide.bs.dropdown",(function(t){if(!t.clickEvent)return!0;var n=e(t.clickEvent.target);return!(n.hasClass("dropdown")||n.closest(".dropdown").length||n.hasClass("navbar")||n.hasClass("nav-layout-wrap")||n.hasClass("dropdown-menu"))})),e(window).resize((function(){e('.dropdown-toggle[aria-expanded="true"]',t).trigger("click"),e("[style]",t).removeAttr("style"),$activeSubMenu=e(".dropdown-submenu-close.active"),$activeSubMenu.length&&l($activeSubMenu),e("#nav-search-input").attr("aria-invalid","false").parent().removeClass("was-validated")})),s(),e(window).resize(s),e("#site-header .navbar-toggler").click((function(){"false"===e(this).attr("aria-expanded")&&(e("[style]",t).removeAttr("style"),e('[aria-expanded="true"]',t).attr("aria-expanded","false")),e(".header-alert").toggle()})),$ignoreList=e("#navbar-brand-tablet, .break, #nav-secondary-centering",t),e("#emergency-dropdown, #support-sickkids-dropdown").click((function(){if(window.matchMedia("(max-width: 47.98em)").matches){let t=e(this).parent();"true"==e(this).attr("aria-expanded")?n.not(t).not($ignoreList).slideDown(150):n.not(t).not($ignoreList).slideUp(150)}}));let d=e("> .navbar-nav > .nav-item > .dropdown-toggle",a);function c(){if(window.matchMedia("(min-width: 48em)").matches){let t=0;t=e("#navbar-brand-tablet").is(":visible")?2*e("#navbar-brand-tablet").outerHeight()+16:e("#navbar-brand-desktop").outerHeight();let n=a.outerHeight(),o=e("#site-header").prevAll(":visible").not("a[id]"),i=0;o.each((function(){i+=e(this).outerHeight()}));let r=e("#site-header .dropdown-menu.show");t+n+i+r.outerHeight()>=e(window).height()&&e("> .dropdown-layout-wrap",r).css("height","calc(100vh - "+(t+i+n)+"px)")}}function l(t){if(window.matchMedia("(min-width: 48em)").matches){let e=t.parent(),n=e.siblings(".nav-pages"),o=n.find(".dropdown-source"),i=o.siblings(".dropdown-menu").children(".dropdown-layout-wrap");e.detach().appendTo(i),n.removeAttr("style"),o.removeClass("dropdown-source").attr("aria-expanded",(function(e,t){return"true"===t?"false":"true"})),t.removeClass("active")}e("#site-header .dropdown-layout-wrap").removeAttr("style"),c()}d.click((function(){window.matchMedia("(max-width: 47.98em)").matches&&("true"==e(this).attr("aria-expanded")?(n.not(a).not($ignoreList).slideDown(150),d.not(e(this)).slideDown(150)):(n.not(a).not($ignoreList).slideUp(150),d.not(e(this)).slideUp(150)))})),e("#journey-companion-dropdown").click((function(){if(window.matchMedia("(max-width: 47.98em)").matches){let t=e(this).parent().parent();"true"==e(this).attr("aria-expanded")?n.not(t).not($ignoreList).slideDown(150):n.not(t).not($ignoreList).slideUp(150)}})),e(".dropdown-submenu > .dropdown-toggle",a).click((function(t){if(window.matchMedia("(max-width: 47.98em)").matches){t.stopPropagation();let n=e(this),o=n.closest(".navbar-nav").siblings(".navbar-nav");n.closest(".dropdown").children(".dropdown-toggle").slideToggle(150),n.parent().siblings().slideToggle(150),o.slideToggle(150),n.siblings(".dropdown-menu").slideToggle(150),n.attr("aria-expanded",(function(e,t){return"true"===t?"false":"true"}))}})),e("#nav-journey-companion .card-title").click((function(t){window.matchMedia("(max-width: 47.98em)").matches&&(t.stopPropagation(),t.clickEvent||(window.location.href=e(this).siblings(".btn").attr("href")))})),e("#site-header").on("shown.bs.dropdown",c),e("#site-header").on("hidden.bs.dropdown",(function(){window.matchMedia("(min-width: 48em)").matches&&e("#site-header .dropdown-layout-wrap").removeAttr("style")})),e(".dropdown-submenu > .dropdown-toggle",a).click((function(t){if(window.matchMedia("(min-width: 48em)").matches){t.stopPropagation();let n=e(this),o=n.closest(".nav-pages"),i=n.parent().find(".nav-pages");n.addClass("dropdown-source"),o.css("display","none"),i.detach().insertBefore(o),i.children(".dropdown-submenu-close").addClass("active").trigger("focus"),n.attr("aria-expanded",(function(e,t){return"true"===t?"false":"true"}))}c()})),e(".dropdown-submenu-close").click((function(){l(e(this))})),e("#nav-primary > .navbar-nav > .dropdown").on("hide.bs.dropdown",(function(t){t.clickEvent||($activeSubMenu=e(".dropdown-submenu-close.active"),$activeSubMenu.length&&e(t.target).hasClass("dropdown")&&l($activeSubMenu))})),document.getElementById("topnav-search").addEventListener("invalid",(function(e){e.preventDefault(),document.getElementById("input-search").focus()}),!0)})),void 0===window.SickKids&&(window.SickKids={}),window.SickKids.toggleText=(e,t)=>{var n=document.getElementById("collapse-"+e),o=document.getElementById("collapse-btn-"+e);n&&n.classList.contains("show")?o.innerHTML=t:n&&(o.innerHTML="Show less")},e((function(){function t(){setTimeout((function(){var t=document.documentElement,n=document.getElementById("content"),o="scrollTop",i=t[o]||n[o]||e("body").scrollTop(),a=t.scrollHeight||n[o],r=parseInt(i/(a-t.clientHeight)*100);e("#progressbar").css("width",r+"%")}),200)}e("#progressbar").length>0&&(e(document).ready((function(){t()})),e(document).scroll((function(){t()})))})),void 0===window.SickKids&&(window.SickKids={}),window.SickKids.SetupStickyNavigation=()=>{var e=document.querySelectorAll("H1"),t=document.querySelectorAll("H2"),n=document.querySelectorAll("section.header-alert"),o=null;let i;console.log("These are all the headers",t);let a=[],r=[];if(e&&e.length>0&&e[0].nextSibling){i=document.createElement("div"),i.id="PageNavSticky";var s="<h5 id='PageNavStickyHeader'>On this page</h5>";n&&n.length>0&&(s="<h5 id='PageNavStickyHeader' class='padTopForAlert'>On this page</h5>"),i.insertAdjacentHTML("afterbegin",s),e[0].parentNode.insertBefore(i,e[0].nextSibling)}document.querySelector("main")&&document.querySelector("main").classList.add("nav-pop"),document.querySelector("footer")&&document.querySelector("footer").classList.add("nav-pop");let d=!1;t.forEach((function(e){let t=e.querySelector("A");if(t){let n=document.createElement("div"),o=e.textContent,s=t.id,c=document.createElement("a");c.href="#"+s,!0===d&&(n.classList.add("stickySelected"),d=!1),c.append(o),n.classList.add("stickyLinkContainer"),n.setAttribute("data-target",s),n.appendChild(c),i&&o&&""!=o&&(i.append(n),a.push(t),r.push(n))}}));const c=new IntersectionObserver((function(e){if(e&&e[0]&&e[0].intersectionRatio>=0&&r&&r.length>0){let t=e[0];r.forEach(e=>{e.getAttribute("data-target")===t?.target?.id&&1===t.intersectionRatio?e.classList.add("stickySelected"):1===t.intersectionRatio&&e.classList.remove("stickySelected")})}}),{threshold:[.5],rootMargin:"-10% 0% -85% 0%",root:null});a.forEach(e=>{c.observe(e)});const l=new IntersectionObserver((function(e){if(e&&e[0]&&e[0].intersectionRatio>=0&&r&&r.length>0){let n,o=e[0];for(var t=0;t<r.length;t++)r[t].getAttribute("data-target")===o?.target?.id&&1===o.intersectionRatio?(t>0&&r[t-1]&&(n=r[t-1]),r[t].classList.remove("stickySelected")):1===o.intersectionRatio&&r[t].classList.remove("stickySelected");n&&n.classList.add("stickySelected")}}),{threshold:[.5],rootMargin:"-80% 0% -10% 0%",root:null});if(a.forEach(e=>{l.observe(e)}),o=document.getElementById("PageNavStickyHeader"),n&&n.length>0&&o){new IntersectionObserver((function(e){if(void 0===o)return;e&&e[0]&&!1===e[0].isIntersecting?o.classList.remove("padTopForAlert"):o.classList.add("padTopForAlert")}),{threshold:[.2],root:null}).observe(n[0])}},e((function(){e(".dropdown-tabs").each((function(){let t=e(this),n=e(".dropdown-toggle",this);t.on("show.bs.dropdown",(function(){e(".dropdown-menu.hide",this).removeClass("hide")})),t.on("hide.bs.dropdown",(function(){e(".dropdown-menu.show",this).addClass("hide")})),e(".dropdown-item",this).on("click",(function(){n.text(e(this).text()),window.matchMedia("(max-width: 61.98em)").matches&&n.trigger("click")})),e(window).resize((function(){window.matchMedia("(min-width: 62em)").matches&&(t.is(".show")&&n.trigger("click"),e(".dropdown-menu",t).removeClass("show hide"))}))}))}))}(jQuery);
//# sourceMappingURL=scripts.min.js.map
